{
  "permissions": {
    "allow": [
      "Bash(npm start)",
      "Bash(timeout:*)",
      "Bash(ping:*)",
      "Bash(dir \"C:\\\\Users\\\\CHAN2\\\\Music\\\\cord\\\\외주\\\\amagetdon\\\\metagrabber2\\\\instagram_cookies.json\")",
      "Bash(curl:*)",
      "Bash(node -e \"\nconst axios = require\\(''axios''\\);\n\nconst shortcode = ''DQvwYSrk3yP'';\nconst sessionid = ''9161222771%3A0d4aRajkq6Nyim%3A3%3AAYghDCmqlPL8kOmXJFU-gV1N_pygZmDPsRC4h3JnKg'';\n\nconst headers = {\n    ''User-Agent'': ''Mozilla/5.0 \\(Windows NT 10.0; Win64; x64\\) AppleWebKit/537.36 \\(KHTML, like Gecko\\) Chrome/120.0.0.0 Safari/537.36'',\n    ''Accept'': ''*/*'',\n    ''Accept-Language'': ''ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7'',\n    ''Cookie'': ''sessionid='' + sessionid,\n    ''X-IG-App-ID'': ''936619743392459'',\n};\n\nasync function test\\(\\) {\n    const urls = [\n        ''https://www.instagram.com/api/v1/media/'' + shortcode + ''/info/'',\n        ''https://www.instagram.com/p/'' + shortcode + ''/?__a=1&__d=dis'',\n        ''https://www.instagram.com/reel/'' + shortcode + ''/?__a=1&__d=dis''\n    ];\n    \n    for \\(const url of urls\\) {\n        try {\n            console.log\\(''Testing:'', url.substring\\(0, 60\\) + ''...''\\);\n            const res = await axios.get\\(url, { headers, timeout: 15000 }\\);\n            console.log\\(''Status:'', res.status\\);\n            console.log\\(''Data length:'', JSON.stringify\\(res.data\\).length\\);\n            console.log\\(''Sample:'', JSON.stringify\\(res.data\\).substring\\(0, 300\\)\\);\n            console.log\\(''---''\\);\n        } catch \\(e\\) {\n            console.log\\(''Error:'', e.response?.status || e.message\\);\n            if \\(e.response?.data\\) {\n                console.log\\(''Response:'', JSON.stringify\\(e.response.data\\).substring\\(0, 200\\)\\);\n            }\n            console.log\\(''---''\\);\n        }\n    }\n}\ntest\\(\\);\n\")",
      "Bash(node -e \"\nconst axios = require\\(''axios''\\);\n\nconst shortcode = ''DQvwYSrk3yP'';\n// URL 디코딩된 버전\nconst sessionid = decodeURIComponent\\(''9161222771%3A0d4aRajkq6Nyim%3A3%3AAYghDCmqlPL8kOmXJFU-gV1N_pygZmDPsRC4h3JnKg''\\);\n\nconsole.log\\(''Using sessionid:'', sessionid\\);\n\nconst headers = {\n    ''User-Agent'': ''Instagram 275.0.0.27.98 Android \\(33/13; 420dpi; 1080x2400; samsung; SM-G991B; o1s; exynos2100; en_US; 458229237\\)'',\n    ''Accept'': ''*/*'',\n    ''Accept-Language'': ''en-US,en;q=0.9'',\n    ''Cookie'': ''sessionid='' + sessionid,\n    ''X-IG-App-ID'': ''936619743392459'',\n};\n\nasync function test\\(\\) {\n    // GraphQL API 시도\n    const url = ''https://www.instagram.com/api/v1/media/'' + shortcode + ''/info/'';\n    \n    try {\n        console.log\\(''Testing:'', url\\);\n        const res = await axios.get\\(url, { \n            headers, \n            timeout: 15000,\n            maxRedirects: 0,\n            validateStatus: \\(status\\) => status < 500\n        }\\);\n        console.log\\(''Status:'', res.status\\);\n        console.log\\(''Headers:'', JSON.stringify\\(res.headers\\).substring\\(0, 200\\)\\);\n        if \\(res.data\\) {\n            console.log\\(''Data:'', JSON.stringify\\(res.data\\).substring\\(0, 500\\)\\);\n        }\n    } catch \\(e\\) {\n        console.log\\(''Error:'', e.message\\);\n        if \\(e.response\\) {\n            console.log\\(''Status:'', e.response.status\\);\n            console.log\\(''Location:'', e.response.headers?.location\\);\n        }\n    }\n}\ntest\\(\\);\n\")",
      "Bash(node -e \"\nconst axios = require\\(''axios''\\);\n\nconst shortcode = ''DQvwYSrk3yP'';\nconst sessionid = ''9161222771:0d4aRajkq6Nyim:3:AYghDCmqlPL8kOmXJFU-gV1N_pygZmDPsRC4h3JnKg'';\n\nasync function test\\(\\) {\n    // GraphQL API\n    const doc_id = ''8845758582119845''; // reels query\n    const variables = JSON.stringify\\({shortcode: shortcode}\\);\n    \n    const url = ''https://www.instagram.com/graphql/query/?doc_id='' + doc_id + ''&variables='' + encodeURIComponent\\(variables\\);\n    \n    const headers = {\n        ''User-Agent'': ''Mozilla/5.0 \\(Windows NT 10.0; Win64; x64\\) AppleWebKit/537.36 \\(KHTML, like Gecko\\) Chrome/120.0.0.0 Safari/537.36'',\n        ''Accept'': ''*/*'',\n        ''Accept-Language'': ''ko-KR,ko;q=0.9'',\n        ''Cookie'': ''sessionid='' + sessionid + ''; ds_user_id=9161222771'',\n        ''X-IG-App-ID'': ''936619743392459'',\n        ''X-Requested-With'': ''XMLHttpRequest'',\n        ''X-ASBD-ID'': ''129477'',\n        ''Sec-Fetch-Site'': ''same-origin'',\n        ''Sec-Fetch-Mode'': ''cors'',\n        ''Referer'': ''https://www.instagram.com/reel/'' + shortcode + ''/'',\n    };\n\n    try {\n        console.log\\(''Testing GraphQL API...''\\);\n        const res = await axios.get\\(url, { headers, timeout: 15000 }\\);\n        console.log\\(''Status:'', res.status\\);\n        const data = JSON.stringify\\(res.data\\);\n        console.log\\(''Data length:'', data.length\\);\n        \n        // video_url 찾기\n        const videoMatch = data.match\\(/video_url\"\":\"\"\\([^\"\"]+\\)\"\"/\\);\n        if \\(videoMatch\\) {\n            console.log\\(''VIDEO FOUND!''\\);\n            console.log\\(''URL:'', videoMatch[1].substring\\(0, 100\\)\\);\n        } else {\n            console.log\\(''No video_url found''\\);\n            console.log\\(''Sample:'', data.substring\\(0, 500\\)\\);\n        }\n    } catch \\(e\\) {\n        console.log\\(''Error:'', e.response?.status || e.message\\);\n        if \\(e.response?.data\\) {\n            console.log\\(''Data:'', JSON.stringify\\(e.response.data\\).substring\\(0, 300\\)\\);\n        }\n    }\n}\ntest\\(\\);\n\")",
      "Bash(cat:*)",
      "Bash(git init:*)",
      "Bash(git remote add:*)",
      "Bash(git reset:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git config:*)",
      "Bash(git branch:*)",
      "Bash(git push:*)",
      "Bash(npm install:*)",
      "Bash(npm uninstall:*)",
      "WebSearch",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(npm run build:*)",
      "WebFetch(domain:amag-class.notion.site)",
      "Bash(git remote remove:*)",
      "Bash(npm run dev)",
      "WebFetch(domain:platform.openai.com)"
    ]
  }
}
